!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="796235bd-ebf7-4b30-bd58-0034f9cd09dd",e._sentryDebugIdIdentifier="sentry-dbid-796235bd-ebf7-4b30-bd58-0034f9cd09dd")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6858],{39230:function(e,t,r){r.d(t,{$:function(){return c}});var o=r(97458),a=r(19974),n=r(10893),l=r(52983),i=r(43192),s=r(95733);let c=e=>{let{thumbnailRef:t,children:r,vertical:c}=e,{t:d}=(0,n.$G)("detailCommon"),[u,m]=(0,l.useState)(!1),f=(0,l.useRef)(!1),_=(0,s.E)(),h=(0,l.useCallback)(()=>{var e;f.current||(null===(e=t.current)||void 0===e?void 0:e.matches(":hover"))||m(!1)},[t,f]);return(0,l.useEffect)(()=>{if(!t)return;let e=t.current;if(e&&(e.toggleAttribute("data-popover-open",u),u))return e.addEventListener("mouseleave",h),()=>{e.removeEventListener("mouseleave",h)}},[u,t,h]),(0,o.jsxs)(a.fC,{modal:!1,open:u,onOpenChange:e=>m(e),children:[(0,o.jsx)(a.xz,{asChild:!0,children:(0,o.jsx)(i.T,{onClick:()=>m(!u),iconRightName:u?"unfold":"fold",iconLeftName:_&&"regular"===c?"ai-stars":void 0,label:_&&"video"!==c?void 0:d("useImage"),dataCy:"thumbnail-menu-ai-tools-trigger"})}),(0,o.jsx)(a.h_,{children:(0,o.jsx)(a.VY,{className:"z-[1] flex flex-col rounded-xl border border-surface-border-alpha-0 bg-surface-modal p-2 shadow-lg",side:"top",align:"end",sideOffset:8,onPointerEnter:()=>{f.current=!0},onPointerLeave:()=>{f.current=!1,h()},children:r})})]})}},45299:function(e,t,r){r.d(t,{P:function(){return i}});var o=r(97458),a=r(46873),n=r(10893),l=r(30569);let i=e=>{let{onClick:t,ref:r}=e,{t:i}=(0,n.$G)("detailCommon"),s=i("addToCollection");return(0,o.jsx)(a.u,{content:s,disableHoverableContent:!0,showArrow:!1,contentProps:{side:"bottom",size:"sm"},children:(0,o.jsx)("div",{children:(0,o.jsx)(l.K,{iconName:"follow-folder",onClick:t,dataCy:"add-to-collection-thumbnail",ref:r})})})}},37500:function(e,t,r){r.d(t,{Q:function(){return g}});var o=r(97458),a=r(52983),n=r(23113),l=r(46873),i=r(9249),s=r(10893),c=r(30569);let d=e=>{let{onShowModal:t}=e,{t:r}=(0,s.$G)("common"),a=(0,n.a)("lg"),d=(0,o.jsx)(c.K,{onClick:t,iconName:"folder-filled",dataCy:"delete-resource-collection-thumbnail",children:(0,o.jsx)(i.T,{children:r("remove")})});return a?(0,o.jsx)(l.u,{contentProps:{side:"bottom",size:"sm"},content:r("remove"),disableHoverableContent:!0,showArrow:!1,children:(0,o.jsx)("div",{children:d})}):d};var u=r(86101),m=r(770),f=r(83910),_=r(18503),h=r(11031),p=r(82060);let w=e=>{let{onShowModal:t,resourceType:r}=e,{t:a}=(0,s.$G)("common"),l=(0,n.a)("lg"),c="icon"===r?h.Mw:p.aD,d=(0,o.jsxs)("button",{className:(0,_.m)("cursor-pointer",c),onClick:t,"data-cy":"delete-resource-collection-thumbnail",children:[(0,o.jsx)(i.T,{children:a("remove")}),(0,o.jsx)(m.J,{as:f.Z,size:"base"})]});return l?(0,o.jsx)(u.u,{side:"left",trigger:d,triggerAsChild:!1,hideOnLeaveHover:!0,children:a("remove")}):d},g=e=>{let{resourceId:t,resourceType:r,openModal:n}=e,l=(0,a.useCallback)(()=>{null==n||n(t,r)},[n,t,r]);return"icon"===r?(0,o.jsx)(w,{onShowModal:l,resourceType:r}):(0,o.jsx)(d,{onShowModal:l})}},14639:function(e,t,r){r.d(t,{W:function(){return _}});var o=r(97458),a=r(23113),n=r(79235),l=r(46873),i=r(9249),s=r(10893),c=r(87591),d=r(50829),u=r(17722),m=r(30569),f=r(35103);let _=e=>{let{onDownload:t,isDownloading:r,premium:_,className:h,iconSize:p,creditCost:w}=e,{t:g}=(0,s.$G)(["detailCommon","common"]),x=(0,a.a)("lg"),b=(0,n.nD)(),v=(0,d.C)(),y=(0,f.O)(_),j=(0,o.jsx)(m.K,{iconName:"download",onClick:t,dataCy:"download-thumbnail",disabled:!!y||r,loading:r,className:h,iconSize:p,children:(0,o.jsx)(i.T,{children:g("detailCommon:download")})});return x?y?(0,o.jsx)(u.B,{blockStatus:y,container:b.current,children:j}):(0,o.jsx)(l.u,{disableHoverableContent:!0,content:(0,o.jsxs)("span",{className:"flex items-center gap-2",children:[g("detailCommon:download"),v&&(0,o.jsx)(c.L,{creditCost:w})]}),contentProps:{side:"bottom",size:"sm"},showArrow:!1,children:(0,o.jsx)("div",{children:j})}):j}},33039:function(e,t,r){r.d(t,{s:function(){return w}});var o=r(97458),a=r(65122),n=r(63081),l=r(33247),i=r(61821),s=r(52294),c=r(41776),d=r(4784),u=r(770),m=r(9249),f=r(30061),_=r(10893),h=r(59470);let p=()=>{let{t:e}=(0,_.$G)("common");return(0,o.jsxs)("span",{className:h.q,children:[(0,o.jsx)(m.T,{children:e("disneyResource")}),(0,o.jsx)(u.J,{as:f.Z,size:"3xs",className:"text-white"})]})},w=e=>{var t,r,u,m;let{resource:f,isDisneyResource:_=!1}=e,w=(0,a.e)(),{contentGroup:g}=(0,i.hv)(f),x=(0,l.R)(),{premium:b,isAIGenerated:v,authorName:y,type:j}=f;if(!b&&!v&&!_)return;let k=b&&w,C=f.isEditableInMockup?"mockups":null,N=f.isEditableInWepik?"templates":null,T=null!==(m=null!=C?C:N)&&void 0!==m?m:"premium_regular",R=x({type:j,authorName:y,isPremium:!0,isAIGenerated:v,eventName:"download__thumbnail_crown"});return R.append("origin","".concat(n.Ej,"_").concat(T)),(0,o.jsxs)(o.Fragment,{children:[k&&(0,o.jsx)("span",{className:h.q,children:(0,o.jsx)(d.s,{})}),b&&!k&&(0,o.jsx)("span",{className:h.q,children:(0,o.jsx)(c.w,{resource:{id:f.id,name:f.name,mediaUrl:null===(t=f.preview)||void 0===t?void 0:t.url,mediaHeight:null===(r=f.preview)||void 0===r?void 0:r.height,mediaWidth:null===(u=f.preview)||void 0===u?void 0:u.width,resourceType:"regular"},urlParams:R,category:g})}),v&&(0,o.jsx)(s.N,{}),_&&(0,o.jsx)(p,{})]})}},93682:function(e,t,r){r.d(t,{U:function(){return a},w:function(){return o}});let o=200,a=200},56858:function(e,t,r){r.d(t,{l:function(){return eA},Y:function(){return eM}});var o=r(97458),a=r(57291),n=r(98821),l=r.n(n),i=r(58058),s=r.n(i),c=r(52983),d=r(30948),u=r(64237),m=r(36244),f=r(41581),_=r(3223),h=r(16614),p=r(31760),w=r(70870),g=r(77475),x=r(20339),b=r(50987),v=r(33039);let y=(e,t)=>{let{width:r}=(0,w.n)(e),{width:o}=(0,w.n)(null!=t?t:{current:null});return r?r-(null!=o?o:0)-16-15:0},j=(e,t)=>{let[r,o]=(0,c.useState)(3);return(0,c.useEffect)(()=>{if(!(null==t?void 0:t.current))return;let{scrollWidth:r}=t.current,a=e-25;if(a<=0){o(1);return}if(r>a){o(e=>Math.max(e-1,1));return}r+80<=a&&o(e=>Math.min(e+1,3))},[e,t]),r};var k=r(3999),C=r(51780),N=r(95797),T=r(85e3),R=r(30143);let z=e=>{let[t,r]=(0,c.useState)("");return(0,c.useEffect)(()=>{{let t=new URLSearchParams(window.location.hash.substring(1)).get(e);null!==t&&r(t)}},[e]),t},I=e=>{var t;let{resourceId:r,resourceUrl:o,previewUrl:a,isModal:n,position:l,fromView:i,action:s}=e,c=(0,C.useRouter)(),d=null!==(t=(0,T.Jn)("term"))&&void 0!==t?t:"",u=z("from_element"),m=(0,R.fb)(r,o,{fromView:i,position:l,fromElement:u,query:d}),f=E({previewUrl:a,resourceId:r,isModal:n,action:s});return n?{href:{pathname:c.pathname,query:c.query},as:m,shallow:!0,scroll:!1,onClick:f}:{href:m,onClick:f}},E=e=>{let{previewUrl:t,resourceId:r,isModal:o,action:a}=e,n=(0,k.u)({previewUrl:t});return(0,N.Z)({itemId:r,isModal:o,previewUrlParams:n.includes("?")?new URLSearchParams(n.split("?")[1]).toString():"",action:a})};var D=r(37500),A=r(14639),O=r(33650),P=r(67651),L=r(95733),S=r(38741),U=r(30569),G=r(18666),H=r(45299);let M=e=>{let{item:t,isCollectionItem:r,isCuratedCollection:a,openModal:n}=e,{id:l,name:i,author:s,type:c,premium:d,isAIGenerated:u,url:f,preview:_,isEditableInMockup:h,isEditableInWepik:p,creditCost:w}=t,{url:g,height:x,width:b}=_,v=!(0,P.h)(s.id),y=(0,T.pt)(),{isDownloading:j,handleDownloadFromThumbnail:k}=(0,O.w)({id:l,name:i,author:s,type:null!=c?c:"photo",premium:d,isAIGenerated:u,url:f,preview:{url:g,height:x,width:b},isEditableInMockup:h,isEditableInWepik:p},y),C=(0,L.E)(),N=(0,m.G)(),R=!C||C&&l!==N;return(0,o.jsxs)("div",{className:"flex flex-row gap-1",children:[R&&(0,o.jsx)(G.B,{id:l,name:i,preview:_,inThumbnail:!0,showLabel:!1,type:c,tooltipStyle:"new",tooltipProps:{side:"bottom",size:"sm"},as:U.K}),(!r||a)&&(0,o.jsx)(S.D,{type:t.type,id:t.id,location:"thumbnail",renderTrigger:e=>{let{onClick:t,ref:r}=e;return(0,o.jsx)(H.P,{onClick:t,ref:r})}}),r&&!a&&(0,o.jsx)(D.Q,{openModal:n,resourceId:t.id,resourceType:t.type}),v&&(0,o.jsx)(A.W,{onDownload:k,isDownloading:j,premium:d,creditCost:w})]})};var J=r(90715),W=r(86101),$=r(23113),K=r(10893),Z=r(43192),q=r(27793),B=r(91394),F=r(25983),V=r(24278),Q=r(35576);let Y=(e,t,r)=>{let o=(0,V.m6)(t),a=(0,F.L3)(),{loginUrl:n,setLoginCookies:l}=(0,q.J)(),i=(0,B.d)(),s=(0,Q.mS)(),c=()=>o?r:o?i||t?r:(l(),n):"".concat(a("/pricing"),"/").concat(e,"?origin=freepik_web");return()=>{if(!o){s({resourceId:e,isResourcePremium:t,resourceType:"template"}),window.location.href=c();return}window.location.href=c()}},X=e=>{let{id:t,premium:r,urlEditor:a}=e,{t:n}=(0,K.$G)("common"),l=(0,$.a)("lg"),i=Y(t,r,a),s=(0,o.jsx)(Z.T,{label:n("editOnline"),dataCy:"edit-online-thumbnail",onClick:i});return l?(0,o.jsx)(W.u,{side:"left",trigger:s,triggerAsChild:!0,hideOnLeaveHover:!0,children:n("editOnline")}):s};var ee=r(39230),et=r(2200),er=r(770),eo=r(30088),ea=r(17722),en=r(65122),el=r(80751);let ei=(e,t)=>{let r=(0,en.e)(),o=(0,el.H)(),a=!t||r;return(0,c.useMemo)(()=>o({tool:e,canUserDownloadResource:a}),[e,a,o])};var es=r(58984);let ec=e=>{let{tool:t,resource:r}=e;return(0,es.I)({tool:t,location:"thumbnail",resource:r})};var ed=r(82060);let eu=e=>{let{resource:t}=e,{t:r}=(0,K.$G)("editTools"),a=ec({tool:{name:"assistant"},resource:t}),{blockStatus:n}=ei("assistant",t.premium),l=(0,et.n)();return(0,o.jsx)(ea.B,{blockStatus:n,container:l.current,children:(0,o.jsxs)("button",{className:ed.tw,onClick:()=>a(),disabled:!!n,"data-cy":"thumbnail-menu-assistant",children:[(0,o.jsx)(er.J,{as:eo.Z,size:"sm"}),(0,o.jsx)("span",{children:r("assistant.nameE")})]})})};var em=r(8965),ef=r(27488);let e_=e=>{let{resource:t}=e,{t:r}=(0,K.$G)("editTools"),a=ec({tool:{name:"imageEditor"},resource:t}),{blockStatus:n}=ei("imageEditor",t.premium),l=(0,et.n)(),i=(0,en.e)();return(0,o.jsx)(ea.B,{blockStatus:n,container:l.current,children:(0,o.jsxs)("button",{className:ed.tw,onClick:()=>a(),disabled:!!n,"data-cy":"thumbnail-menu-edit-with-ai",children:[(0,o.jsx)(er.J,{as:ef.Z,size:"sm"}),(0,o.jsx)("span",{children:r("imageEditor.nameC")}),!i&&(0,o.jsx)(em.ZP,{name:"crown-filled-medium",size:"xs",className:"ml-auto text-premium-0 opacity-0 group-hover:opacity-100"})]})})};var eh=r(79235),ep=r(41937),ew=r(90312),eg=r(9382),ex=r(35103);let eb=e=>{let{resourceId:t,resourceUrl:r,previewUrl:a,position:n,fromView:l,isModal:i,isPremium:s}=e,{t:c}=(0,K.$G)("editTools"),d=(0,ep.I)(),{setLoginCookies:u,signUpUrl:m}=(0,ew.e)(),f=(0,ex.O)(s),_=(0,eh.nD)(),h=I({resourceId:t,resourceUrl:r,previewUrl:a,isModal:i,position:n,fromView:l,action:"remove-background"});return(0,o.jsx)(ea.B,{blockStatus:f,container:_.current,children:(0,o.jsxs)("button",{type:"button",onClick:e=>{if(d){e.preventDefault(),u(),window.location.href=m;return}if(f){e.preventDefault();return}h.onClick(e)},className:ed.tw,"data-cy":"menu-remove-background",disabled:!!f,children:[(0,o.jsx)(er.J,{as:eg.Z,size:"sm"}),(0,o.jsx)("span",{children:c("removeBackground.nameE")})]})})};var ev=r(14335);let ey=e=>{let{resource:t}=e,{t:r}=(0,K.$G)("editTools"),a=ec({tool:{name:"styleReference"},resource:t}),{blockStatus:n}=ei("styleReference",t.premium),l=(0,et.n)(),i=(0,en.e)();return(0,o.jsx)(ea.B,{blockStatus:n,container:l.current,children:(0,o.jsxs)("button",{className:ed.tw,onClick:()=>a(),disabled:!!n,"data-cy":"thumbnail-menu-style-reference",children:[(0,o.jsx)(er.J,{as:ev.Z,size:"sm"}),(0,o.jsx)("span",{children:r("styleReference.name")}),!i&&(0,o.jsx)(em.ZP,{name:"crown-filled-medium",size:"xs",className:"ml-auto text-premium-0 opacity-0 group-hover:opacity-100"})]})})};var ej=r(7616),ek=r(7526),eC=r(31861);let eN=(e,t)=>["psd","vector"].includes(e)&&t,eT=()=>{let[e]=(0,ej.KO)(eC.GD);return(0,c.useCallback)((t,r)=>{let o=""===e?"".concat(ek.KK).concat(t):"".concat(ek.KK).concat(t,"?searchTerm=").concat(e),a="".concat(ek.Iq).concat(t,"&provider=fp");return r?o:a},[e])},eR=e=>{let{resource:t}=e,{t:r}=(0,K.$G)("editTools"),a=(0,et.n)(),n=ec({tool:{name:"useAsReference"},resource:t}),{blockStatus:l}=ei("useAsReference",t.premium);return(0,o.jsx)(ea.B,{blockStatus:l,container:a.current,children:(0,o.jsx)(Z.T,{onClick:()=>n(),disabled:!!l,dataCy:"thumbnail-use-as-reference",label:r("useAsReference"),iconLeftName:"search-by-image"})})},ez=(0,c.forwardRef)((e,t)=>{let{thumbnailRef:r,item:a,position:n,isModal:l,fromView:i}=e,{id:s,name:c,author:d,premium:u,isAIGenerated:m,type:f,url:_,preview:h,isEditableInMockup:p,isEditableInWepik:w}=a,g={id:s,name:c,author:d,premium:u,isAIGenerated:m,preview:h,type:f,url:_},x=w||p,b=eT(),v=(0,J.n)({type:f,isEditableInMockup:p,isEditableInWepik:w,authorId:d.id}),y=eN(f,x),j=(0,L.E)();return(0,o.jsxs)("div",{ref:t,className:"flex flex-row gap-1",children:[j&&(0,o.jsx)(eR,{resource:{id:s,name:c,type:f,premium:u,isAIGenerated:m,preview:h,url:_,author:d}}),v&&!y&&(0,o.jsxs)(ee.$,{thumbnailRef:r,vertical:"regular",children:[(0,o.jsx)(eb,{resourceId:s,resourceUrl:_,position:n,isModal:l,fromView:i,previewUrl:h.url,isPremium:u}),(0,o.jsx)(e_,{resource:g}),(0,o.jsx)(ey,{resource:g}),(0,o.jsx)(eu,{resource:g})]}),y&&!j&&(0,o.jsx)(X,{premium:u,id:s,urlEditor:b(s,w)})]})}),eI=e=>{let{type:t,name:r,isPremium:o,fromView:a}=e,{t:n}=(0,K.$G)("common");if(!a||"keyword"!==a)return r;let l=r.toLowerCase(),i=n("regularTypeTitleQuantities.".concat(t,"_one"));return o?"".concat(i," ").concat(l):"".concat(n("seoRuleAlt",{type:i})," ").concat(l)},eE=(0,a.j)("block rounded object-cover object-center",{variants:{resizeIn:{width:"size-full",height:"h-full w-auto"}}}),eD=(0,c.forwardRef)((e,t)=>{let{item:r,position:n,fromView:i,isModal:w=!1,dataCy:x,priority:C,resizeParameter:N="width",isCuratedCollection:T,openModal:R,isCollectionItem:z=!1}=e,{preview:E,name:D,premium:A,type:O,author:P,id:L,isAIGenerated:S,url:U,topSearchExpressions:G,isEditableInMockup:H,isEditableInWepik:J}=r,W="keyword"===i,[$,K]=(0,c.useState)(!1),{url:Z,width:q,height:B}=E,F=(0,c.useRef)(null),V=(0,c.useRef)(null),Q=j(y(t,F),V),{attributionEnabled:Y}=(0,b.J)(),X=P.id===d.c,ee=I({resourceId:r.id,resourceUrl:r.url,previewUrl:Z,isModal:w,position:n,fromView:i}),et=(0,k.u)({previewUrl:Z}),er=(0,u.y)({isEditableInMockup:H,isEditableInWepik:J}),eo=eI({type:O,name:D,isPremium:A,fromView:i}),ea=(0,_.z)({id:r.id,type:r.type,premium:r.premium,position:null!=n?n:0}),en=(0,c.useCallback)(()=>{"function"==typeof ea&&ea(),K(!0)},[ea]),el=(0,f.t)(L,O),ei=(0,m.G)();return(0,o.jsx)(h.u,{ref:t,dataCy:x,dataAuthor:P.id.toString(),primaryActions:(0,o.jsx)(M,{item:r,isCuratedCollection:T,openModal:R,isCollectionItem:z}),secondaryActions:(0,o.jsx)(ez,{thumbnailRef:t,ref:F,item:r,position:n,isModal:w,fromView:i}),fixedSecondaryActions:L===ei&&(0,o.jsx)(eR,{resource:{id:L,name:D,type:O,premium:A,isAIGenerated:S,preview:E,url:U,author:P}}),information:$&&(0,o.jsx)(v.s,{resource:{...r,authorName:r.author.name},isDisneyResource:X}),searchExpressions:W&&(0,o.jsx)(p.k,{items:G,style:"new",maxTags:Q,tagsContainerRef:V}),attribution:Y&&(0,o.jsx)(g.i,{authorId:P.id,authorName:P.name,resourceUrl:U,resourceId:L,resourceName:D,mediaUrl:Z,mediaWidth:q,mediaHeight:B,isAIGenerated:S,isPremium:A,resourceType:O,subtype:er}),children:(0,o.jsxs)(s(),{...ee,className:(0,a.cx)("relative z-0 block h-full overflow-hidden rounded-xl","width"===N?"":"h-full"),prefetch:!1,children:[(0,o.jsx)(l(),{src:et,alt:eo,width:q,height:B,className:(0,a.cx)(eE({resizeIn:N})),priority:C,onLoad:en,suppressHydrationWarning:!0,onError:el}),(0,o.jsx)("div",{className:"absolute inset-0 z-0","aria-hidden":"true"})]})})}),eA=(0,c.forwardRef)((e,t)=>{let{height:r}=(0,w.n)(t);return(0,o.jsx)(x.l,{thumbnailHeight:null!=r?r:0,children:(0,o.jsx)(eD,{...e,ref:t})})});var eO=r(33523),eP=r(61821),eL=r(72570),eS=r(93682);let eU=e=>{let{item:t,isDownloadEnabled:r}=e,{id:a,name:n,author:l,type:i,premium:s,isAIGenerated:c,url:d,preview:u,isEditableInMockup:f,isEditableInWepik:_,creditCost:h}=t,{url:p,height:w,width:g}=u,x=(0,T.pt)(),{isDownloading:b,handleDownloadFromThumbnail:v}=(0,O.w)({id:a,name:n,author:l,type:null!=i?i:"photo",premium:s,isAIGenerated:c,url:d,preview:{url:p,height:w,width:g},isEditableInMockup:f,isEditableInWepik:_},x),y=(0,L.E)(),j=(0,m.G)(),k=!y||y&&a!==j;return(0,o.jsxs)("div",{className:"flex flex-row gap-1",children:[k&&(0,o.jsx)(G.B,{id:a,name:n,preview:u,inThumbnail:!0,showLabel:!1,type:i,tooltipStyle:"new",tooltipProps:{side:"bottom",size:"sm"},as:U.K}),r&&(0,o.jsx)(A.W,{onDownload:v,isDownloading:b,premium:s,creditCost:h})]})},eG=e=>{let{item:t,isDownloadEnabled:r}=e,{id:a,premium:n,isEditableInMockup:l,isEditableInWepik:i,type:s}=t,c=eT(),d=eN(s,i||l);return!r&&d?(0,o.jsx)("div",{className:"flex flex-row gap-1",children:(0,o.jsx)(X,{premium:n,id:a,urlEditor:c(a,i)})}):null},eH=(0,c.forwardRef)((e,t)=>{var r,a;let{item:n,categoryGAEvent:i,fromElement:m}=e,{id:f,type:_,preview:p,url:w,author:x,name:y,isAIGenerated:j,premium:k,isEditableInMockup:N,isEditableInWepik:T}=n,R="".concat(w).concat(m?"#from_element=".concat(m):""),z=null!==(r=null==p?void 0:p.url)&&void 0!==r?r:"",I=x.id===d.c,E=!(0,P.h)(x.id),{width:D,height:A}=null!=p?p:{width:eS.U,height:eS.w,url:""},O=D/A,L=eS.w*O,[S,U]=(0,c.useState)(!1),{isLoading:G,loaded:H}=(0,eL._)(z),M=(0,Q.O5)(),J=(0,C.useRouter)(),W=(0,eP.Zh)({itemId:f,isModal:!0}),{attributionEnabled:$}=(0,b.J)(),K=(0,u.y)({isEditableInMockup:N,isEditableInWepik:T});return(0,o.jsx)(h.u,{ref:t,dataCy:"related-thumbnail",dataAuthor:x.id.toString(),primaryActions:(0,o.jsx)(eU,{item:n,isDownloadEnabled:E}),secondaryActions:(0,o.jsx)(eG,{item:n,isDownloadEnabled:E}),information:S&&(0,o.jsx)(v.s,{resource:{...n,authorName:n.author.name},isDisneyResource:I}),attribution:$&&(0,o.jsx)(g.i,{authorId:x.id,authorName:x.name,resourceUrl:w,resourceId:f,resourceName:y,mediaUrl:null!==(a=null==p?void 0:p.url)&&void 0!==a?a:"",mediaWidth:D,mediaHeight:A,isAIGenerated:j,isPremium:k,resourceType:_,subtype:K}),children:(0,o.jsxs)(s(),{href:{pathname:J.pathname,query:J.query},as:R,shallow:!0,scroll:!1,className:'relative block h-[200px] overflow-hidden rounded-xl before:absolute before:inset-0 before:opacity-0 before:content-[""] hover:before:opacity-20',prefetch:!1,onClick:e=>{i&&M(f,i,_),W(e)},children:[G&&p&&(0,o.jsx)(eO.O.Rect,{style:{width:L,height:eS.w}}),(0,o.jsx)(l(),{className:eJ({show:!G}),src:z,alt:y,onLoad:()=>{H(),U(!0)},width:L,height:eS.w,quality:90,loading:"lazy"}),(0,o.jsx)("div",{className:"absolute inset-0","aria-hidden":"true"})]})})}),eM=e=>{let t=(0,c.useRef)(null),{height:r}=(0,w.n)(t);return(0,o.jsx)(x.l,{thumbnailHeight:null!=r?r:0,children:(0,o.jsx)(eH,{...e,ref:t})})},eJ=(0,a.j)("h-full object-cover",{variants:{show:{false:"absolute opacity-0"}}})},21255:function(e,t,r){r.d(t,{k:function(){return s}});var o=r(68147),a=r(26219),n=r(83380),l=r(5704),i=r(7009);let s=e=>{let t=(0,n.Z)(),r=(0,l.Jn)("term"),s=(0,o.I)()||0,c=(0,i.J)();return(o,n)=>{let l="term-related&language=".concat(t,"&ref=").concat(r,"&rel=").concat(n,"&ori=").concat(e,"&pos=").concat(o+1,"&uid=").concat(s).concat(c);(0,a.O)(encodeURI(l.toLowerCase()))}}},43192:function(e,t,r){r.d(t,{T:function(){return l}});var o=r(97458),a=r(8965),n=r(25350);let l=(0,r(52983).forwardRef)((e,t)=>{let{iconLeftName:r,iconRightName:l,dataCy:i,disabled:s=!1,iconSize:c="sm",onClick:d,label:u}=e;return(0,o.jsxs)(n.z,{ref:t,onClick:d,size:"md",variant:"custom",shape:"rounded",disabled:s,className:"bg-white text-default-foreground-0 dark:text-surface-1","data-cy":i,children:[r&&(0,o.jsx)(a.Dw,{name:r,size:c}),u&&(0,o.jsx)("span",{children:u}),l&&(0,o.jsx)(a.Dw,{name:l,size:c})]})})},31760:function(e,t,r){r.d(t,{k:function(){return d}});var o=r(97458),a=r(25983),n=r(52983),l=r(86436),i=r(21255),s=r(5704);let c={psd:"/psd",vector:"/vectors",photo:"/photos",font:"/fonts"},d=e=>{var t;let{items:r,maxTags:d=3,style:u="old",tagsContainerRef:m}=e,f=c[null!==(t=(0,s.Jn)("type"))&&void 0!==t?t:""]||"/free-photos-vectors",_=(0,a.L3)()(f),h=(0,i.k)("tag"),p=(0,n.useMemo)(()=>r?r.slice(0,d).map(e=>{var t;let r="".concat(_,"/").concat(e.slug),o="".concat(f,"/").concat(e.slug);return{name:e.name,href:null!==(t=e.url)&&void 0!==t?t:o,as:r}}):[],[r,d,_,f]);return!r||0===r.length||d<=0?null:(0,o.jsx)("div",{ref:m,children:(0,o.jsx)(l.L,{tags:p,theme:"old"===u?"dark":"transparent",onTagClick:(e,t)=>{h(e,t.name)},className:"relative mt-4 flex size-full flex-wrap gap-3"})})}},58984:function(e,t,r){r.d(t,{I:function(){return p}});var o=r(65122),a=r(69762),n=r(43186),l=r(52983),i=r(33961),s=r(64458);let c=(e,t)=>{let r=d(e,t),o=u(e);if(!r)throw Error("There are no download parameters for ".concat(e.name," in ").concat(t));return{action:r,modifier:o}},d=(e,t)=>{var r;let o=null===(r=m[e.name])||void 0===r?void 0:r[t];if(!o)throw Error("There are no download parameters for ".concat(e.name," in ").concat(t));return o},u=e=>{if("workflow"===e.name){let t=f[e.subOption];if(!t)throw Error("There are no download parameters for workflow with ".concat(e.subOption));return t}},m={retouch:{detail:"ai_tool_retouch",postDownload:"ai_tool_retouch_after_download"},expand:{detail:"ai_tool_expand",postDownload:"ai_tool_expand_after_download"},reimagine:{detail:"ai_tool_reimagine",postDownload:"ai_tool_reimagine_after_download"},adjust:{detail:"ai_tool_adjust",postDownload:"ai_tool_adjust_after_download",thumbnail:"ai_tool_adjust_thumbnail"},replacebg:{detail:"ai_tool_replacebg"},video:{detail:"ai_tool_video",postDownload:"ai_tool_video_after_download"},assistant:{detail:"ai_tool_assistant",thumbnail:"ai_tool_assistant_thumbnail"},generatePrompt:{detail:"ai_tool_generate_prompt"},styleReference:{detail:"ai_tool_generate_style_ref",postDownload:"ai_tool_generate_style_ref_after_download",thumbnail:"ai_tool_generate_style_ref_thumbnail"},workflow:{detail:"ai_tool_assistant"},imageEditor:{thumbnail:"ai_tool_all_thumbnail",detail:"ai_tool_all",postDownload:"ai_tool_all_after_download"},useAsReference:{detail:"ai_tool_generate_use_as_reference",thumbnail:"ai_tool_generate_image_ref",postDownload:"ai_tool_generate_image_ref_after_download"}},f={createSocialPost:"workflow_create_post",createPoster:"workflow_create_poster",mixImages:"workflow_mix_images",applyPromo:"workflow_apply_promo",createFlyer:"workflow_create_flyer",createLogoVariations:"workflow_create_logo_variations",localize:"workflow_localize",createLogo:"workflow_create_logo",applyColors:"workflow_apply_colors",replaceText:"workflow_replace_text",removeText:"workflow_remove_text",replaceElement:"workflow_replace_element",addElement:"workflow_add_element"};var _=r(75045);let h=e=>{let{tool:t,location:r,imageSrc:o,resource:a}=e,{id:d,name:u,author:m,premium:f,type:h,isAIGenerated:p,preview:w,url:g}=a,{action:x,modifier:b}=c(t,r),v=(0,s.M)({tool:t,resource:{type:h,subtype:h,authorName:m.name,isPremium:f,isAIGenerated:p}}),{handleDownload:y}=(0,_.i)({resource:{id:d,name:u,author:m,premium:f,regularType:h,isAIGenerated:p,url:g,preview:w,type:h},action:x,modifier:b,showAttributionModal:!1,skipDownloadTracker:!0,location:(0,i.d)({isResourcePremium:f,tool:t,location:r}),checkoutQueryParams:v}),j=(0,n.J)(),k=null!=o?o:w.url;return(0,l.useCallback)(async()=>{let e=await y(k);if(!(null==e?void 0:e.signedUrl))throw Error("Failed to download image");return j(),"".concat(e.signedUrl,"&w=2000&h=2000")},[k,y,j])},p=e=>{let{tool:t,location:r,imageSrc:n,extraParams:l,resource:i}=e,{id:s,premium:c,isAIGenerated:d,type:u,author:{name:m},name:f,preview:{url:_,width:p,height:w}}=i,g=(0,o.e)(),x=h({tool:t,location:r,imageSrc:n,resource:i});return(0,a.F)({tool:t,resource:{id:s,name:f,type:u,authorName:m,isPremium:c,isAIGenerated:d,groupedType:"regular",media:{url:_,width:p,height:w}},canDownloadResource:g||!c,imageSrc:n,getSignedResource:x,location:r,extraParams:l})}},15715:function(e,t,r){r.d(t,{H:function(){return a}});let o=e=>{let{resource:t,file:r,option:o,size:a,action:n,walletId:l,locale:i,modifier:s,searchExpression:c}=e,d=new URLSearchParams;return d.set("resource","".concat(t)),r&&o?(d.set("file",r),d.set("option","".concat(o))):a&&d.set("size","".concat(a)),n&&d.set("action",n),l&&d.set("walletId",l),d.set("locale",i),s&&d.set("modifier",s),c&&d.set("searchExpression",c),d.toString()},a=async e=>{let t=o(e),r=await fetch("/api/regular/download?".concat(t));return r.ok?{success:!0,data:await r.json()}:429===r.status?{success:!1,data:"DOWNLOAD_LIMIT_REACHED",metadata:"/download-limit"}:401===r.status||403===r.status||405===r.status?{success:!1,data:"AUTHENTICATION_ERROR"}:404===r.status?{success:!1,data:"NOT_FOUND"}:{success:!1,data:"UNKNOWN_ERROR"}}},75045:function(e,t,r){r.d(t,{i:function(){return E}});var o=r(72234),a=r(15880),n=r(68147),l=r(85229),i=r(25983),s=r(59608),c=r(52983),d=r(9036),u=r(35576),m=r(7526);let f=(e,t)=>t||("photo"===e?"jpg":"zip");var _=r(24278);r(97458);let h=(0,c.createContext)(null),p=()=>(0,c.useContext)(h)||{shouldTrackingLog:!0};var w=r(15715),g=r(32509),x=r(72661),b=r(72118),v=r(1850),y=r(64979),j=r(56879);let k=v.z.enum(["download","copy","edit","prompt","preview","remove_background","remove_background_edit","ai_video",y.cm,y.PF,y.p3,y.Kq,y.wK,y.os,y.H$,y.C0,y.u4,y.OI,y.Iu,y.e5,"ai_tool_retouch","ai_tool_retouch_after_download","ai_tool_expand","ai_tool_expand_after_download","ai_tool_reimagine","ai_tool_reimagine_after_download","ai_tool_adjust","ai_tool_adjust_after_download","ai_tool_replacebg","ai_tool_video","ai_tool_video_after_download","ai_tool_assistant","ai_tool_generate_prompt","ai_tool_generate_style_ref","ai_tool_generate_style_ref_after_download","ai_tool_generate_style_ref_thumbnail","ai_tool_adjust_thumbnail","ai_tool_assistant_thumbnail","ai_tool_all_thumbnail","ai_tool_all","ai_tool_generate_image_ref","ai_tool_all_after_download","ai_tool_generate_image_ref_after_download","ai_tool_generate_use_as_reference"]),C=v.z.enum(["workflow_create_post","workflow_create_poster","workflow_mix_images","workflow_apply_promo","workflow_create_flyer","workflow_create_logo_variations","workflow_localize","workflow_create_logo","workflow_apply_colors","workflow_replace_text","workflow_remove_text","workflow_replace_element","workflow_add_element"]);v.z.object({resource:v.z.coerce.number(),file:j.ru.optional(),option:v.z.coerce.number().optional(),size:v.z.coerce.number().optional(),action:k.optional(),modifier:C.optional(),walletId:v.z.string().nullable().optional(),locale:v.z.string(),searchExpression:v.z.string().optional()}),v.z.object({data:v.z.object({filename:v.z.string(),url:v.z.string(),prompt:v.z.string().optional(),signed_url:v.z.string().optional()})}).transform(e=>{let{data:t}=e;return t}).transform(e=>{let{signed_url:t,...r}=e;return{...r,signedUrl:t}});let N=v.z.array(v.z.string()),T=new Date(new Date().getTime()+48e4),R=b.Z.withConverter({write:e=>e}),z=e=>{try{let t=R.get(e);if(!t)return[];return N.parse(JSON.parse(t))}catch(e){return[]}},I=()=>{let e=(0,n.I)(),t=(0,x.b)();return(0,c.useCallback)(r=>{if(!e)return;let o="".concat("ck_items_").concat(e),a=z(o),n="".concat(r);if(!a.includes(n)){let e=JSON.stringify([...a,n]);R.set(o,e,{path:"/",domain:t,expires:T})}},[e,t])},E=e=>{let{resource:t,file:r,action:h="download",modifier:x,location:b="resource_detail",option:v,size:y,showAttributionModal:j=!0,handleError:k,checkoutQueryParams:C,skipDownloadTracker:N=!1,searchExpression:T}=e,{id:R,name:z,author:E,premium:D,regularType:A,isAIGenerated:O,url:P,type:L}=t,[S,U]=(0,c.useState)(!1),{isUserWinback:G,showWinbackModal:H}=(0,l.l)(),{showAttribution:M}=(0,_.tc)(),J=I(),W=(0,g.b)({resource:t,location:b}),$=(0,u.mS)(),{shouldTrackingLog:K}=p(),{showDeviceBlockedModal:Z,isDeviceBlocked:q}=(0,a.qx)(),B=(0,o.Lh)(),F=(0,n.I)(),V=(0,i.ZK)(),Q=(0,d.TH)({file_extension:f(A,r),file_name:z,file_id:R,license:D?"premium":"free",resolution:y?m.w8[y]:"original",style:"na",author_name:E.name,category:O?"ai_image":A,action:"prompt"===h?"view_prompt":h,location:b,url_link:P}),Y=(0,c.useCallback)(e=>{if(k){k(e);return}"prompt"!==h&&W(e,C)},[k,h,W,C]);return{handleDownload:(0,c.useCallback)(async(e,t)=>{if(q){Z();return}if(G){H();return}U(!0),B||s.uT("WARNING: User ".concat(F," has no wallet_id"),"warning"),K&&!N&&$({resourceId:R,isResourcePremium:D,resourceType:L,downloadType:h,fileType:L,variant:b});let o=await (0,w.H)({resource:R,size:y?2e3:void 0,action:h,modifier:x,file:r,option:v,walletId:B,locale:V,searchExpression:T});if(o.success)return j&&M&&M(),U(!1),J(R),Q({externalUrl:null!=e?e:P,setting:t}),o.data;Y(o),U(!1)},[q,G,B,K,N,R,y,h,x,r,v,V,T,Y,Z,H,F,$,D,L,b,j,M,J,Q,P]),isDownloading:S}}},32509:function(e,t,r){r.d(t,{b:function(){return i}});var o=r(19170),a=r(10893),n=r(52983),l=r(65724);let i=e=>{var t;let{location:r,resource:i}=null!=e?e:{},{t:s}=(0,a.$G)("error"),{openToast:c}=(0,o.x_)(),d=(0,l.W)(null!==(t=null==i?void 0:i.id)&&void 0!==t?t:0,"",r);return(0,n.useCallback)((e,t)=>{if("DOWNLOAD_LIMIT_REACHED"===e.data&&i){d({resourceData:{name:i.name,mediaUrl:i.preview.url,mediaWidth:i.preview.width,mediaHeight:i.preview.height,resourceType:"regular"},checkoutQueryParams:t,modalType:"downloadLimit",origin:"download_limit"});return}if("AUTHENTICATION_ERROR"===e.data){window.location.href="/oauth-logout";return}"NOT_FOUND"===e.data&&c({type:"danger",message:s("notFound")}),"UNKNOWN_ERROR"===e.data&&c({type:"danger",message:s("unknown")})},[d,c,i,s])}},33650:function(e,t,r){r.d(t,{w:function(){return _}});var o=r(65122),a=r(85229),n=r(46700),l=r(52983),i=r(50987),s=r(65724),c=r(33247),d=r(35576),u=r(64237),m=r(24278),f=r(75045);let _=(e,t)=>{let{id:r,name:_,author:h,type:p,premium:w,isAIGenerated:g,url:x,preview:b,isEditableInMockup:v,isEditableInWepik:y}=e,j=(0,c.R)(),{isUserWinback:k,showWinbackModal:C}=(0,a.l)(),N=j({authorName:h.name,isPremium:w,isAIGenerated:g,type:p,subtype:(0,u.y)({isEditableInWepik:y,isEditableInMockup:v}),eventName:"download__thumbnail"}),{isDownloading:T,handleDownload:R}=(0,f.i)({resource:{id:r,name:_,author:h,premium:w,regularType:p,isAIGenerated:g,url:x,preview:b,type:p},location:"resource_thumbnail",checkoutQueryParams:N,showAttributionModal:!1,searchExpression:t}),z=(0,n.V)(),I=(0,d.mS)(),E=(0,o.e)(),{contentGroup:D}=(0,m.hv)({id:r,type:p,isAIGenerated:g,premium:w,isEditableInMockup:v,isEditableInWepik:y}),A=(0,s.W)(r,D,"resource_thumbnail"),{showAttribution:O}=(0,i.J)(),P=(0,l.useCallback)(()=>{I({resourceId:r,isResourcePremium:w,resourceType:p,downloadType:"download"})},[I,r,w,p]);return{isDownloading:T,handleDownloadFromThumbnail:(0,l.useCallback)(async()=>{if(k){C();return}if(!E&&w){A({origin:"resource_thumbnail_premium",resourceData:{name:_,mediaUrl:b.url,mediaWidth:b.width,mediaHeight:b.height,resourceType:"regular"},checkoutQueryParams:N,onButtonClick:P});return}let e=await R();e&&(z(e.url,e.filename),O())},[k,E,w,R,C,A,_,b.url,b.width,b.height,N,P,z,O])}}},14335:function(e,t,r){var o=r(97458);t.Z=e=>(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:16,height:16,"aria-hidden":!0,...e,children:[(0,o.jsx)("path",{d:"M477 205.5c-13.8 0-25 11.2-25 25V418c0 2.2-.5 4.4-1.4 6.3l-75.9-75.9c-4.7-4.7-11-7.3-17.7-7.3s-13 2.6-17.7 7.3L306 381.6 188.7 264.3c-9.8-9.8-25.6-9.8-35.4 0L60 357.6V136c0-8.3 6.7-15 15-15h211c13.8 0 25-11.2 25-25s-11.2-25-25-25H75c-35.8 0-65 29.2-65 65v283.2c.7 35.3 29.5 63.8 65 63.8h362c35.8 0 65-29.2 65-65V230.5c0-13.8-11.2-25-25-25"}),(0,o.jsx)("path",{d:"m503.9 87.1-36.7-14c-3.4-1.3-6-3.9-7.3-7.3l-14-36.7c-4.1-10.8-19.4-10.8-23.5 0l-14 36.7c-1.3 3.4-3.9 6-7.3 7.3l-36.7 14c-10.8 4.1-10.8 19.4 0 23.5l36.7 14c3.4 1.3 6 3.9 7.3 7.3l14 36.7c4.1 10.8 19.4 10.8 23.5 0l14-36.7c1.3-3.4 3.9-6 7.3-7.3l36.7-14c10.8-4.1 10.8-19.4 0-23.5M293.8 236l21.4 8.2c3.2 1.2 5.8 3.8 7 7l8.2 21.4c4 10.4 18.8 10.4 22.7 0l8.2-21.4c1.2-3.2 3.8-5.8 7-7l21.4-8.2c10.4-4 10.4-18.8 0-22.7l-21.4-8.2c-3.2-1.2-5.8-3.8-7-7l-8.2-21.4c-4-10.4-18.8-10.4-22.7 0l-8.2 21.4c-1.2 3.2-3.8 5.8-7 7l-21.4 8.2c-10.5 4-10.5 18.8 0 22.7"})]})}}]);